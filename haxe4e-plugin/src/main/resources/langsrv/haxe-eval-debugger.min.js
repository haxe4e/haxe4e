module.exports=function(e,t){"use strict";var n={};function __webpack_require__(t){if(n[t]){return n[t].exports}var s=n[t]={i:t,l:false,exports:{}};var i=true;try{e[t].call(s.exports,s,s.exports,__webpack_require__);i=false}finally{if(i)delete n[t]}s.l=true;return s.exports}__webpack_require__.ab=__dirname+"/";function startup(){return __webpack_require__(608)}return startup()}({6:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});class Handles{constructor(e){this.START_HANDLE=1e3;this._handleMap=new Map;this._nextHandle=typeof e==="number"?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE;this._handleMap=new Map}create(e){var t=this._nextHandle++;this._handleMap.set(t,e);return t}get(e,t){return this._handleMap.get(e)||t}}t.Handles=Handles},129:function(e){e.exports=require("child_process")},137:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,r){function fulfilled(e){try{step(s.next(e))}catch(e){r(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){r(e)}}function step(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:true});const i=n(747);const r=n(622);const o=n(626);const a=n(917);var l;(function(e){e[e["Verbose"]=0]="Verbose";e[e["Log"]=1]="Log";e[e["Warn"]=2]="Warn";e[e["Error"]=3]="Error";e[e["Stop"]=4]="Stop"})(l=t.LogLevel||(t.LogLevel={}));class Logger{constructor(){this._pendingLogQ=[]}log(e,t=l.Log){e=e+"\n";this._write(e,t)}verbose(e){this.log(e,l.Verbose)}warn(e){this.log(e,l.Warn)}error(e){this.log(e,l.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();this._currentLogger=null;return e}else{return Promise.resolve()}}_write(e,t=l.Log){e=e+"";if(this._pendingLogQ){this._pendingLogQ.push({msg:e,level:t})}else if(this._currentLogger){this._currentLogger.log(e,t)}}setup(e,t,n=true){const s=typeof t==="string"?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:s,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null;e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[];this._currentLogger=new InternalLogger(e,n);this._logFilePathFromInit=t}}t.Logger=Logger;t.logger=new Logger;class InternalLogger{constructor(e,t){this.beforeExitCallback=(()=>this.dispose());this._logCallback=e;this._logToConsole=t;this._minLogLevel=l.Warn;this.disposeCallback=((e,t)=>{this.dispose();t=t||2;t+=128;process.exit(t)})}setup(e){return s(this,void 0,void 0,function*(){this._minLogLevel=e.consoleMinLogLevel;this._prependTimestamp=e.prependTimestamp;if(e.logFilePath){if(!r.isAbsolute(e.logFilePath)){this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,l.Error)}else{const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,l.Error);try{yield mkdirpPromise(r.dirname(e.logFilePath));this.log(`Verbose logs are written to:\n`,l.Warn);this.log(e.logFilePath+"\n",l.Warn);this._logFileStream=i.createWriteStream(e.logFilePath);this.logDateTime();this.setupShutdownListeners();this._logFileStream.on("error",e=>{t(e)})}catch(e){t(e)}}}})}logDateTime(){let e=new Date;let t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}`+"-"+e.getUTCDate();const n=t+", "+getFormattedTimeString();this.log(n+"\n",l.Verbose,false)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback);process.addListener("SIGTERM",this.disposeCallback);process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback);process.removeListener("SIGTERM",this.disposeCallback);process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners();if(this._logFileStream){this._logFileStream.end(e);this._logFileStream=null}else{e()}})}log(e,t,n=true){if(this._minLogLevel===l.Stop){return}if(t>=this._minLogLevel){this.sendLog(e,t)}if(this._logToConsole){const n=t===l.Error?console.error:t===l.Warn?console.warn:null;if(n){n(trimLastNewline(e))}}if(t===l.Error){e=`[${l[t]}] ${e}`}if(this._prependTimestamp&&n){e="["+getFormattedTimeString()+"] "+e}if(this._logFileStream){this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]";if(t){e=e+"\n"}}if(this._logCallback){const n=new LogOutputEvent(e,t);this._logCallback(n)}}}function mkdirpPromise(e){return new Promise((t,n)=>{o(e,e=>{if(e){n(e)}else{t()}})})}class LogOutputEvent extends a.OutputEvent{constructor(e,t){const n=t===l.Error?"stderr":t===l.Warn?"console":"stdout";super(e,n)}}t.LogOutputEvent=LogOutputEvent;function trimLastNewline(e){return e.replace(/(\n|\r\n)$/,"")}t.trimLastNewline=trimLastNewline;function getFormattedTimeString(){let e=new Date;let t=_padZeroes(2,String(e.getUTCHours()));let n=_padZeroes(2,String(e.getUTCMinutes()));let s=_padZeroes(2,String(e.getUTCSeconds()));let i=_padZeroes(3,String(e.getUTCMilliseconds()));return t+":"+n+":"+s+"."+i+" UTC"}function _padZeroes(e,t){if(t.length>=e){return t}else{return String("0".repeat(e)+t).slice(-e)}}},293:function(e){e.exports=require("buffer")},326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=n(917);t.DebugSession=s.DebugSession;t.InitializedEvent=s.InitializedEvent;t.TerminatedEvent=s.TerminatedEvent;t.StoppedEvent=s.StoppedEvent;t.ContinuedEvent=s.ContinuedEvent;t.OutputEvent=s.OutputEvent;t.ThreadEvent=s.ThreadEvent;t.BreakpointEvent=s.BreakpointEvent;t.ModuleEvent=s.ModuleEvent;t.LoadedSourceEvent=s.LoadedSourceEvent;t.CapabilitiesEvent=s.CapabilitiesEvent;t.Thread=s.Thread;t.StackFrame=s.StackFrame;t.Scope=s.Scope;t.Variable=s.Variable;t.Breakpoint=s.Breakpoint;t.Source=s.Source;t.Module=s.Module;t.CompletionItem=s.CompletionItem;t.ErrorDestination=s.ErrorDestination;const i=n(474);t.LoggingDebugSession=i.LoggingDebugSession;const r=n(137);t.Logger=r;const o=n(750);t.Event=o.Event;t.Response=o.Response;const a=n(6);t.Handles=a.Handles;const l=r.logger;t.logger=l},474:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=n(137);const i=s.logger;const r=n(917);class LoggingDebugSession extends r.DebugSession{constructor(e,t,n){super(t,n);this.obsolete_logFilePath=e;this.on("error",e=>{i.error(e.body)})}start(e,t){super.start(e,t);i.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof s.LogOutputEvent)){let t=e;if(e instanceof r.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput){delete e.body.data.doNotLogOutput;t=Object.assign({},e);t.body=Object.assign({},e.body,{output:"<output not logged>"})}i.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,n,s){i.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${n}`);super.sendRequest(e,t,n,s)}sendResponse(e){i.verbose(`To client: ${JSON.stringify(e)}`);super.sendResponse(e)}dispatchRequest(e){i.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`);super.dispatchRequest(e)}}t.LoggingDebugSession=LoggingDebugSession},521:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=n(614);const i=n(750);class ProtocolServer extends s.EventEmitter{constructor(){super();this._pendingRequests=new Map}start(e,t){this._sequence=1;this._writableStream=t;this._rawData=new Buffer(0);e.on("data",e=>this._handleData(e));e.on("close",()=>{this._emitEvent(new i.Event("close"))});e.on("error",e=>{this._emitEvent(new i.Event("error","inStream error: "+(e&&e.message)))});t.on("error",e=>{this._emitEvent(new i.Event("error","outStream error: "+(e&&e.message)))});e.resume()}stop(){if(this._writableStream){this._writableStream.end()}}sendEvent(e){this._send("event",e)}sendResponse(e){if(e.seq>0){console.error(`attempt to send more than one response for command ${e.command}`)}else{this._send("response",e)}}sendRequest(e,t,n,s){const r={command:e};if(t&&Object.keys(t).length>0){r.arguments=t}if(!this._writableStream){this._emitEvent(new i.Event("error","sendRequest: No writableStream"));return}this._send("request",r);if(s){this._pendingRequests.set(r.seq,s);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(r.seq);if(t){this._pendingRequests.delete(r.seq);t(new i.Response(r,"timeout"))}},n)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){t.type=e;t.seq=this._sequence++;if(this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}}_handleData(e){this._rawData=Buffer.concat([this._rawData,e]);while(true){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);this._rawData=this._rawData.slice(this._contentLength);this._contentLength=-1;if(e.length>0){try{let t=JSON.parse(e);if(t.type==="request"){this.dispatchRequest(t)}else if(t.type==="response"){const e=t;const n=this._pendingRequests.get(e.request_seq);if(n){this._pendingRequests.delete(e.request_seq);n(e)}}}catch(e){this._emitEvent(new i.Event("error","Error handling data: "+(e&&e.message)))}}continue}}else{const e=this._rawData.indexOf(ProtocolServer.TWO_CRLF);if(e!==-1){const t=this._rawData.toString("utf8",0,e);const n=t.split("\r\n");for(let e=0;e<n.length;e++){const t=n[e].split(/: +/);if(t[0]=="Content-Length"){this._contentLength=+t[1]}}this._rawData=this._rawData.slice(e+ProtocolServer.TWO_CRLF.length);continue}}break}}}ProtocolServer.TWO_CRLF="\r\n\r\n";t.ProtocolServer=ProtocolServer},608:function(e,t,n){(function(e){"use strict";class Connection{constructor(e){this.nextRequestId=1;this.socket=e;this.buffer=r.alloc(4096);this.index=0;this.nextMessageLength=-1;this.callbacks=new haxe_ds_IntMap;e.on("data",$bind(this,this.onData))}append(e){if(this.buffer.length-this.index>=e.length){e.copy(this.buffer,this.index,0,e.length)}else{let t=(Math.ceil((this.index+e.length)/4096)+1)*4096;if(this.index==0){this.buffer=r.alloc(t);e.copy(this.buffer,0,0,e.length)}else{this.buffer=r.concat([this.buffer.slice(0,this.index),e],t)}}this.index+=e.length}onData(e){this.append(e);while(true){if(this.nextMessageLength==-1){if(this.index<4){return}this.nextMessageLength=this.buffer.readInt32LE(0);this.index-=4;this.buffer.copy(this.buffer,0,4)}if(this.index<this.nextMessageLength){return}let e=this.buffer.toString("utf-8",0,this.nextMessageLength);this.buffer.copy(this.buffer,0,this.nextMessageLength);this.index-=this.nextMessageLength;this.nextMessageLength=-1;this.onMessage(JSON.parse(e))}}onEvent(e,t){}onMessage(e){console.log("src/Connection.hx:67:","GOT MESSAGE "+JSON.stringify(e));if(e.id==null){this.onEvent(e.method,e.params)}else{let t=this.callbacks.h[e.id];if(t!=null){this.callbacks.remove(e.id);t(e.error,e.result)}}}sendCommand(e,t,n){let s=this.nextRequestId++;let i=JSON.stringify({id:s,method:e,params:t});console.log("src/Connection.hx:88:","Sending command: "+i);let o=r.from(i,"utf-8");let a=r.alloc(2);a.writeUInt16LE(o.length,0);this.socket.write(a);this.socket.write(o);if(n!=null){this.callbacks.h[s]=n}}}Connection.__name__=true;class EReg{constructor(e,t){this.r=new RegExp(e,t.split("u").join(""))}split(e){return e.replace(this.r,"#__delim__#").split("#__delim__#")}}EReg.__name__=true;class HxOverrides{static cca(e,t){let n=e.charCodeAt(t);if(n!=n){return undefined}return n}static substr(e,t,n){if(n==null){n=e.length}else if(n<0){if(t==0){n=e.length+n}else{return""}}return e.substr(t,n)}static now(){return Date.now()}}HxOverrides.__name__=true;class Lambda{static array(e){let t=[];let n=$getIterator(e);while(n.hasNext())t.push(n.next());return t}}Lambda.__name__=true;var t=n(326).DebugSession;class Main extends t{constructor(){super();this.threads=new haxe_ds_IntMap}traceToOutput(e,t){let n=Std.string(e);if(t!=null&&t.customParams!=null){n+=" "+t.customParams.join(" ")}n+="\n";this.sendEvent(new c(n))}initializeRequest(e,t){e.body.supportsSetVariable=true;e.body.supportsEvaluateForHovers=true;e.body.supportsConditionalBreakpoints=true;e.body.supportsExceptionOptions=true;e.body.exceptionBreakpointFilters=[{filter:"all",label:"All Exceptions"},{filter:"uncaught",label:"Uncaught Exceptions"}];e.body.supportsFunctionBreakpoints=true;e.body.supportsConfigurationDoneRequest=true;e.body.supportsCompletionsRequest=true;this.sendResponse(e);this.postLaunchActions=[]}executePostLaunchActions(e){let t=null;let n=this;t=function(){let s=n.postLaunchActions.shift();if(s==null){e();return}s(t)};t()}exit(){this.sendEvent(new u(false))}checkHaxeVersion(e,t,n,i){let r=this;let o=function(t){r.sendErrorResponse(e,3e3,t);r.exit();return false};let a=s.spawnSync(t,["-version"],{env:n,cwd:i});let l=StringTools.trim(a.stderr.toString());if(l==""){l=StringTools.trim(a.stdout.toString())}if(a.status!=0){return o("Haxe version check failed: "+l)}if(Std.parseInt(new EReg("[\\.\\-+]","g").split(l)[0])<4){return o("eval-debugger requires Haxe 4.0.0 or newer, found "+l)}return true}launchRequest(e,t){let n=this;let r=t;this.launchArgs=r;let o=r.args;let u=r.cwd;let c=r.haxeExecutable.executable;let h={};let d=0;let f=Reflect.fields(process.env);while(d<f.length){let e=f[d];++d;let t=process.env[e];h[e]=t}let p=0;let m=Reflect.fields(r.haxeExecutable.env);while(p<m.length){let e=m[p];++p;h[e]=r.haxeExecutable.env[e]}if(!this.checkHaxeVersion(e,c,h,u)){return}let g=i.createServer(function(t){console.log("src/Main.hx:121:","Haxe connected!");n.connection=new Connection(t);n.connection.onEvent=$bind(n,n.onEvent);t.on("error",function(e){console.log("src/Main.hx:125:","Socket error: "+Std.string(e))});let s=function(){n.sendEvent(new l)};n.executePostLaunchActions(function(){if(r.stopOnEntry){s();n.sendResponse(e);n.sendEvent(new a("entry",0))}else{s()}})});g.listen(0,function(){let e=g.address().port;let t=["--cwd",u,"-D","eval-debugger=127.0.0.1:"+e].concat(o);let i=s.spawn(c,t,{stdio:"pipe",env:h,cwd:u});i.stdout.on("data",$bind(n,n.onStdout));i.stderr.on("data",$bind(n,n.onStderr));i.on("exit",function(e,t){n.exit()})})}onStdout(e){this.sendEvent(new c(e.toString("utf-8"),"stdout"))}onStderr(e){this.sendEvent(new c(e.toString("utf-8"),"stderr"))}onEvent(e,t){switch(e){case"breakpointStop":this.sendEvent(new a("breakpoint",t.threadId));break;case"exceptionStop":let n=new a("exception",t.threadId);n.body.text=t.text;this.sendEvent(n);break;case"threadEvent":this.threads.h[t.threadId]=t.reason!="exited";this.sendEvent(new h(t.reason,t.threadId));break}}disconnectRequest(e,t){let n=this.threads;let s=n.keys();while(s.hasNext()){let e=s.next();if(n.get(e)){this.sendEvent(new h("exited",e))}}this.sendResponse(e)}mergeScopes(e){this.varReferenceMapping=new haxe_ds_IntMap;let t=new haxe_ds_StringMap;let n=0;while(n<e.length){let s=e[n];++n;let i=t.h[s.name];if(i==null){i=s}else{if(s.line<i.line){i.line=s.line}if(s.column<i.line){i.column=s.line}if(s.endLine>i.endLine){i.endLine=s.endLine}if(s.endColumn>i.endColumn){i.endColumn=s.endColumn}}t.h[i.name]=i;let r=i.variablesReference;let o=this.varReferenceMapping.h[r];if(o==null){o=[]}o.push({id:s.variablesReference,vars:[]});this.varReferenceMapping.h[r]=o}return Lambda.array(t)}scopesRequest(e,t){let n=this;this.connection.sendCommand("getScopes",{frameId:t.frameId},function(t,s){n.respond(e,t,function(){let t=[];let i=0;while(i<s.length){let e=s[i];++i;let n=new o(e.name,e.id);if(e.pos!=null){let t=e.pos;n.source={path:t.source};n.line=t.line;n.column=t.column;n.endLine=t.endLine;n.endColumn=t.endColumn}t.push(n)}if(n.launchArgs.mergeScopes){t=n.mergeScopes(t)}e.body={scopes:t}})})}variablesRequest(e,t){let n=this;let s=[{id:t.variablesReference,vars:[]}];if(this.launchArgs.mergeScopes&&this.varReferenceMapping.h.hasOwnProperty(t.variablesReference)){s=this.varReferenceMapping.h[t.variablesReference].slice()}let i=[];let r=Object.create(null);let o=function(e){let t=e.name;if(Object.prototype.hasOwnProperty.call(r,t)){return""+t+" - line "+e.line}else{r[t]=0;return t}};let a=null;a=function(){let t=s.shift();n.connection.sendCommand("getVariables",{id:t.id},function(r,l){let u=0;while(u<l.length){let e=l[u];++u;if(e.generated&&!n.launchArgs.showGeneratedVariables){continue}let s=o(e);t.vars.push(s);i.push({name:s,value:e.value,type:e.type,variablesReference:e.id,namedVariables:e.numChildren,evaluateName:e.name})}if(s.length>0){a()}else{e.body={variables:i};n.sendResponse(e)}})};a()}setVariableRequest(e,t){let n=this;let s=t.variablesReference;let i=function(){let e=t.name.indexOf(" ");if(e==-1){return t.name}return HxOverrides.substr(t.name,0,e)};if(this.launchArgs.mergeScopes){s=function(){let e=0;let i=n.varReferenceMapping.h[s];while(e<i.length){let n=i[e];++e;let s=0;let r=n.vars;while(s<r.length)if(r[s++]==t.name){return n.id}}return s}()}this.connection.sendCommand("setVariable",{id:s,name:i(),value:t.value},function(t,s){n.respond(e,t,function(){e.body={variablesReference:s.id,type:s.type,value:s.value,namedVariables:s.numChildren}})})}pauseRequest(e,t){let n=this;this.connection.sendCommand("pause",{threadId:t.threadId},function(s,i){n.respond(e,s,function(){});n.sendEvent(new a("paused",t.threadId))})}stepInRequest(e,t){let n=this;this.connection.sendCommand("stepIn",{threadId:t.threadId},function(s,i){n.respond(e,s,function(){});n.sendEvent(new a("step",t.threadId))})}stepOutRequest(e,t){let n=this;this.connection.sendCommand("stepOut",{threadId:t.threadId},function(s,i){n.respond(e,s,function(){});n.sendEvent(new a("step",t.threadId))})}nextRequest(e,t){let n=this;this.connection.sendCommand("next",{threadId:t.threadId},function(s,i){n.respond(e,s,function(){});n.sendEvent(new a("step",t.threadId))})}stackTraceRequest(e,t){let n=this;this.connection.sendCommand("stackTrace",{threadId:t.threadId},function(t,s){n.respond(e,t,function(){let t=[];let n=0;while(n<s.length){let e=s[n];++n;t.push({id:e.id,name:e.name=="?"?"Internal":e.name,source:e.source==null||e.name=="?"?null:{path:e.source},line:e.line,column:e.column,endLine:e.endLine,endColumn:e.endColumn,presentationHint:e.artificial?"subtle":"normal"})}e.body={stackFrames:t}})})}threadsRequest(e){let t=this;this.connection.sendCommand("getThreads",{},function(n,s){if(s!=null){let e=0;while(e<s.length)t.threads.h[s[e++].id]=true}t.respond(e,n,function(){e.body={threads:s}})})}continueRequest(e,t){let n=this;this.connection.sendCommand("continue",t==null?{}:{threadId:t.threadId},function(t,s){n.respond(e,t,function(){e.body={allThreadsContinued:false}})})}setBreakPointsRequest(e,t){let n=this;if(this.connection==null){this.postLaunchActions.push(function(s){n.doSetBreakpoints(e,t)})}else{this.doSetBreakpoints(e,t)}}setFunctionBreakPointsRequest(e,t){let n=this;let s=function(){n.connection.sendCommand("setFunctionBreakpoints",t.breakpoints,function(t,s){n.respond(e,t,function(){let t=[];let n=0;while(n<s.length)t.push({verified:true,id:s[n++].id});e.body={breakpoints:t};e.success=true})})};if(this.connection==null){this.postLaunchActions.push(function(e){s()})}else{s()}}doSetBreakpoints(e,t){let n=this;let s=t.source.path;let i=[];let r=0;let o=t.breakpoints;while(r<o.length){let e=o[r];++r;let t={line:e.line};if(e.column!=null){t.column=e.column}if(e.condition!=null){t.condition=e.condition}i.push(t)}this.connection.sendCommand("setBreakpoints",{file:s,breakpoints:i},function(t,s){n.respond(e,t,function(){let t=[];let n=0;while(n<s.length)t.push({verified:true,id:s[n++].id});e.body={breakpoints:t}})})}evaluateRequest(e,t){let n=this;this.connection.sendCommand("evaluate",{expr:t.expression,frameId:t.frameId},function(t,s){n.respond(e,t,function(){e.body={result:s.value,variablesReference:s.id,type:s.type,namedVariables:s.numChildren}})})}setExceptionBreakPointsRequest(e,t){let n=this;this.connection.sendCommand("setExceptionOptions",t.filters,function(t,s){n.respond(e,t,function(){})})}configurationDoneRequest(e,t){if(!this.launchArgs.stopOnEntry){this.continueRequest(e,null)}else{this.sendResponse(e)}}completionsRequest(e,t){let n=this;this.connection.sendCommand("getCompletion",t,function(t,s){n.respond(e,t,function(){let t=[];let n=0;while(n<s.length){let e=s[n];++n;let i={label:e.label,type:e.type};if(e.start!=null){i.start=e.start}t.push(i)}e.body={targets:t}})})}respond(e,t,n){if(t!=null){e.success=false;e.message=t.message}else{e.success=true;n()}this.sendResponse(e)}static main(){t.run(Main)}}Main.__name__=true;Math.__name__=true;class Reflect{static fields(e){let t=[];if(e!=null){let s=Object.prototype.hasOwnProperty;for(var n in e){if(n!="__id__"&&n!="hx__closures__"&&s.call(e,n)){t.push(n)}}}return t}}Reflect.__name__=true;class Std{static string(e){return js_Boot.__string_rec(e,"")}static parseInt(e){if(e!=null){let t=0;let n=e.length;while(t<n){let n=t++;let s=e.charCodeAt(n);if(s<=8||s>=14&&s!=32&&s!=45){let t=e.charCodeAt(n+1);let s=parseInt(e,t==120||t==88?16:10);if(isNaN(s)){return null}else{return s}}}}return null}}Std.__name__=true;class StringTools{static isSpace(e,t){let n=HxOverrides.cca(e,t);if(!(n>8&&n<14)){return n==32}else{return true}}static ltrim(e){let t=e.length;let n=0;while(n<t&&StringTools.isSpace(e,n))++n;if(n>0){return HxOverrides.substr(e,n,t-n)}else{return e}}static rtrim(e){let t=e.length;let n=0;while(n<t&&StringTools.isSpace(e,t-n-1))++n;if(n>0){return HxOverrides.substr(e,0,t-n)}else{return e}}static trim(e){return StringTools.ltrim(StringTools.rtrim(e))}}StringTools.__name__=true;class haxe_ds_IntMap{constructor(){this.h={}}get(e){return this.h[e]}remove(e){if(!this.h.hasOwnProperty(e)){return false}delete this.h[e];return true}keys(){let e=[];for(var t in this.h)if(this.h.hasOwnProperty(t))e.push(t|0);return new haxe_iterators_ArrayIterator(e)}}haxe_ds_IntMap.__name__=true;class haxe_ds_StringMap{constructor(){this.h=Object.create(null)}get(e){return this.h[e]}keys(){return new haxe_ds__$StringMap_StringMapKeyIterator(this.h)}iterator(){return new haxe_ds__$StringMap_StringMapValueIterator(this.h)}}haxe_ds_StringMap.__name__=true;class haxe_ds__$StringMap_StringMapKeyIterator{constructor(e){this.h=e;this.keys=Object.keys(e);this.length=this.keys.length;this.current=0}hasNext(){return this.current<this.length}next(){return this.keys[this.current++]}}haxe_ds__$StringMap_StringMapKeyIterator.__name__=true;class haxe_ds__$StringMap_StringMapValueIterator{constructor(e){this.h=e;this.keys=Object.keys(e);this.length=this.keys.length;this.current=0}hasNext(){return this.current<this.length}next(){return this.h[this.keys[this.current++]]}}haxe_ds__$StringMap_StringMapValueIterator.__name__=true;class haxe_iterators_ArrayIterator{constructor(e){this.current=0;this.array=e}hasNext(){return this.current<this.array.length}next(){return this.array[this.current++]}}haxe_iterators_ArrayIterator.__name__=true;class js_Boot{static __string_rec(e,t){if(e==null){return"null"}if(t.length>=5){return"<...>"}let n=typeof e;if(n=="function"&&(e.__name__||e.__ename__)){n="object"}switch(n){case"function":return"<function>";case"object":if(e instanceof Array){let n="[";t+="\t";let s=0;let i=e.length;while(s<i){let i=s++;n+=(i>0?",":"")+js_Boot.__string_rec(e[i],t)}n+="]";return n}let s;try{s=e.toString}catch(e){return"???"}if(s!=null&&s!=Object.toString&&typeof s=="function"){let t=e.toString();if(t!="[object Object]"){return t}}let i="{\n";t+="\t";let r=e.hasOwnProperty!=null;let o=null;for(o in e){if(r&&!e.hasOwnProperty(o)){continue}if(o=="prototype"||o=="__class__"||o=="__super__"||o=="__interfaces__"||o=="__properties__"){continue}if(i.length!=2){i+=", \n"}i+=t+o+" : "+js_Boot.__string_rec(e[o],t)}t=t.substring(1);i+="\n"+t+"}";return i;case"string":return e;default:return String(e)}}}js_Boot.__name__=true;var s=n(129);var i=n(631);var r=n(293).Buffer;var o=n(326).Scope;var a=n(326).StoppedEvent;var l=n(326).InitializedEvent;var u=n(326).TerminatedEvent;var c=n(326).OutputEvent;var h=n(326).ThreadEvent;function $getIterator(e){if(e instanceof Array)return new haxe_iterators_ArrayIterator(e);else return e.iterator()}var d;function $bind(t,n){if(n==null)return null;if(n.__id__==null)n.__id__=e.$haxeUID++;var s;if(t.hx__closures__==null)t.hx__closures__={};else s=t.hx__closures__[n.__id__];if(s==null){s=n.bind(t);t.hx__closures__[n.__id__]=s}return s}e.$haxeUID|=0;if(typeof performance!="undefined"?typeof performance.now=="function":false){HxOverrides.now=performance.now.bind(performance)}{String.__name__=true;Array.__name__=true}js_Boot.__toStr={}.toString;Main.main()})(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this)},614:function(e){e.exports=require("events")},622:function(e){e.exports=require("path")},626:function(e,t,n){var s=n(622);var i=n(747);var r=parseInt("0777",8);e.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(e,t,n,o){if(typeof t==="function"){n=t;t={}}else if(!t||typeof t!=="object"){t={mode:t}}var a=t.mode;var l=t.fs||i;if(a===undefined){a=r&~process.umask()}if(!o)o=null;var u=n||function(){};e=s.resolve(e);l.mkdir(e,a,function(n){if(!n){o=o||e;return u(null,o)}switch(n.code){case"ENOENT":mkdirP(s.dirname(e),t,function(n,s){if(n)u(n,s);else mkdirP(e,t,u,s)});break;default:l.stat(e,function(e,t){if(e||!t.isDirectory())u(n,o);else u(null,o)});break}})}mkdirP.sync=function sync(e,t,n){if(!t||typeof t!=="object"){t={mode:t}}var o=t.mode;var a=t.fs||i;if(o===undefined){o=r&~process.umask()}if(!n)n=null;e=s.resolve(e);try{a.mkdirSync(e,o);n=n||e}catch(i){switch(i.code){case"ENOENT":n=sync(s.dirname(e),t,n);sync(e,t,n);break;default:var l;try{l=a.statSync(e)}catch(e){throw i}if(!l.isDirectory())throw i;break}}return n}},631:function(e){e.exports=require("net")},747:function(e){e.exports=require("fs")},750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});class Message{constructor(e){this.seq=0;this.type=e}}t.Message=Message;class Response extends Message{constructor(e,t){super("response");this.request_seq=e.seq;this.command=e.command;if(t){this.success=false;this.message=t}else{this.success=true}}}t.Response=Response;class Event extends Message{constructor(e,t){super("event");this.event=e;if(t){this.body=t}}}t.Event=Event},835:function(e){e.exports=require("url")},917:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=n(521);const i=n(750);const r=n(631);const o=n(835);class Source{constructor(e,t,n=0,s,i){this.name=e;this.path=t;this.sourceReference=n;if(s){this.origin=s}if(i){this.adapterData=i}}}t.Source=Source;class Scope{constructor(e,t,n=false){this.name=e;this.variablesReference=t;this.expensive=n}}t.Scope=Scope;class StackFrame{constructor(e,t,n,s=0,i=0){this.id=e;this.source=n;this.line=s;this.column=i;this.name=t}}t.StackFrame=StackFrame;class Thread{constructor(e,t){this.id=e;if(t){this.name=t}else{this.name="Thread #"+e}}}t.Thread=Thread;class Variable{constructor(e,t,n=0,s,i){this.name=e;this.value=t;this.variablesReference=n;if(typeof i==="number"){this.namedVariables=i}if(typeof s==="number"){this.indexedVariables=s}}}t.Variable=Variable;class Breakpoint{constructor(e,t,n,s){this.verified=e;const i=this;if(typeof t==="number"){i.line=t}if(typeof n==="number"){i.column=n}if(s){i.source=s}}}t.Breakpoint=Breakpoint;class Module{constructor(e,t){this.id=e;this.name=t}}t.Module=Module;class CompletionItem{constructor(e,t,n=0){this.label=e;this.start=t;this.length=n}}t.CompletionItem=CompletionItem;class StoppedEvent extends i.Event{constructor(e,t,n){super("stopped");this.body={reason:e};if(typeof t==="number"){this.body.threadId=t}if(typeof n==="string"){this.body.text=n}}}t.StoppedEvent=StoppedEvent;class ContinuedEvent extends i.Event{constructor(e,t){super("continued");this.body={threadId:e};if(typeof t==="boolean"){this.body.allThreadsContinued=t}}}t.ContinuedEvent=ContinuedEvent;class InitializedEvent extends i.Event{constructor(){super("initialized")}}t.InitializedEvent=InitializedEvent;class TerminatedEvent extends i.Event{constructor(e){super("terminated");if(typeof e==="boolean"||e){const t=this;t.body={restart:e}}}}t.TerminatedEvent=TerminatedEvent;class OutputEvent extends i.Event{constructor(e,t="console",n){super("output");this.body={category:t,output:e};if(n!==undefined){this.body.data=n}}}t.OutputEvent=OutputEvent;class ThreadEvent extends i.Event{constructor(e,t){super("thread");this.body={reason:e,threadId:t}}}t.ThreadEvent=ThreadEvent;class BreakpointEvent extends i.Event{constructor(e,t){super("breakpoint");this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=BreakpointEvent;class ModuleEvent extends i.Event{constructor(e,t){super("module");this.body={reason:e,module:t}}}t.ModuleEvent=ModuleEvent;class LoadedSourceEvent extends i.Event{constructor(e,t){super("loadedSource");this.body={reason:e,source:t}}}t.LoadedSourceEvent=LoadedSourceEvent;class CapabilitiesEvent extends i.Event{constructor(e){super("capabilities");this.body={capabilities:e}}}t.CapabilitiesEvent=CapabilitiesEvent;var a;(function(e){e[e["User"]=1]="User";e[e["Telemetry"]=2]="Telemetry"})(a=t.ErrorDestination||(t.ErrorDestination={}));class DebugSession extends s.ProtocolServer{constructor(e,t){super();const n=typeof e==="boolean"?e:false;this._debuggerLinesStartAt1=n;this._debuggerColumnsStartAt1=n;this._debuggerPathsAreURIs=false;this._clientLinesStartAt1=true;this._clientColumnsStartAt1=true;this._clientPathsAreURIs=false;this._isServer=typeof t==="boolean"?t:false;this.on("close",()=>{this.shutdown()});this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=e!=="path"}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;const n=process.argv.slice(2);n.forEach(function(e,n,s){const i=/^--server=(\d{4,5})$/.exec(e);if(i){t=parseInt(i[1],10)}});if(t>0){console.error(`waiting for debug protocol on port ${t}`);r.createServer(t=>{console.error(">> accepted connection from client");t.on("end",()=>{console.error(">> client connection closed\n")});const n=new e(false,true);n.setRunAsServer(true);n.start(t,t)}).listen(t)}else{const t=new e(false);process.on("SIGTERM",()=>{t.shutdown()});t.start(process.stdin,process.stdout)}}shutdown(){if(this._isServer){}else{setTimeout(()=>{process.exit(0)},100)}}sendErrorResponse(e,t,n,s,i=a.User){let r;if(typeof t==="number"){r={id:t,format:n};if(s){r.variables=s}if(i&a.User){r.showUser=true}if(i&a.Telemetry){r.sendTelemetry=true}}else{r=t}e.success=false;e.message=DebugSession.formatPII(r.format,true,r.variables);if(!e.body){e.body={}}e.body.error=r;this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new i.Response(e);try{if(e.command==="initialize"){var n=e.arguments;if(typeof n.linesStartAt1==="boolean"){this._clientLinesStartAt1=n.linesStartAt1}if(typeof n.columnsStartAt1==="boolean"){this._clientColumnsStartAt1=n.columnsStartAt1}if(n.pathFormat!=="path"){this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,a.Telemetry)}else{const e=t;e.body={};this.initializeRequest(e,n)}}else if(e.command==="launch"){this.launchRequest(t,e.arguments,e)}else if(e.command==="attach"){this.attachRequest(t,e.arguments,e)}else if(e.command==="disconnect"){this.disconnectRequest(t,e.arguments,e)}else if(e.command==="terminate"){this.terminateRequest(t,e.arguments,e)}else if(e.command==="restart"){this.restartRequest(t,e.arguments,e)}else if(e.command==="setBreakpoints"){this.setBreakPointsRequest(t,e.arguments,e)}else if(e.command==="setFunctionBreakpoints"){this.setFunctionBreakPointsRequest(t,e.arguments,e)}else if(e.command==="setExceptionBreakpoints"){this.setExceptionBreakPointsRequest(t,e.arguments,e)}else if(e.command==="configurationDone"){this.configurationDoneRequest(t,e.arguments,e)}else if(e.command==="continue"){this.continueRequest(t,e.arguments,e)}else if(e.command==="next"){this.nextRequest(t,e.arguments,e)}else if(e.command==="stepIn"){this.stepInRequest(t,e.arguments,e)}else if(e.command==="stepOut"){this.stepOutRequest(t,e.arguments,e)}else if(e.command==="stepBack"){this.stepBackRequest(t,e.arguments,e)}else if(e.command==="reverseContinue"){this.reverseContinueRequest(t,e.arguments,e)}else if(e.command==="restartFrame"){this.restartFrameRequest(t,e.arguments,e)}else if(e.command==="goto"){this.gotoRequest(t,e.arguments,e)}else if(e.command==="pause"){this.pauseRequest(t,e.arguments,e)}else if(e.command==="stackTrace"){this.stackTraceRequest(t,e.arguments,e)}else if(e.command==="scopes"){this.scopesRequest(t,e.arguments,e)}else if(e.command==="variables"){this.variablesRequest(t,e.arguments,e)}else if(e.command==="setVariable"){this.setVariableRequest(t,e.arguments,e)}else if(e.command==="setExpression"){this.setExpressionRequest(t,e.arguments,e)}else if(e.command==="source"){this.sourceRequest(t,e.arguments,e)}else if(e.command==="threads"){this.threadsRequest(t,e)}else if(e.command==="terminateThreads"){this.terminateThreadsRequest(t,e.arguments,e)}else if(e.command==="evaluate"){this.evaluateRequest(t,e.arguments,e)}else if(e.command==="stepInTargets"){this.stepInTargetsRequest(t,e.arguments,e)}else if(e.command==="gotoTargets"){this.gotoTargetsRequest(t,e.arguments,e)}else if(e.command==="completions"){this.completionsRequest(t,e.arguments,e)}else if(e.command==="exceptionInfo"){this.exceptionInfoRequest(t,e.arguments,e)}else if(e.command==="loadedSources"){this.loadedSourcesRequest(t,e.arguments,e)}else if(e.command==="dataBreakpointInfo"){this.dataBreakpointInfoRequest(t,e.arguments,e)}else if(e.command==="setDataBreakpoints"){this.setDataBreakpointsRequest(t,e.arguments,e)}else if(e.command==="readMemory"){this.readMemoryRequest(t,e.arguments,e)}else if(e.command==="disassemble"){this.disassembleRequest(t,e.arguments,e)}else if(e.command==="cancel"){this.cancelRequest(t,e.arguments,e)}else if(e.command==="breakpointLocations"){this.breakpointLocationsRequest(t,e.arguments,e)}else{this.customRequest(e.command,t,e.arguments,e)}}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},a.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=false;e.body.supportsHitConditionalBreakpoints=false;e.body.supportsFunctionBreakpoints=false;e.body.supportsConfigurationDoneRequest=true;e.body.supportsEvaluateForHovers=false;e.body.supportsStepBack=false;e.body.supportsSetVariable=false;e.body.supportsRestartFrame=false;e.body.supportsStepInTargetsRequest=false;e.body.supportsGotoTargetsRequest=false;e.body.supportsCompletionsRequest=false;e.body.supportsRestartRequest=false;e.body.supportsExceptionOptions=false;e.body.supportsValueFormattingOptions=false;e.body.supportsExceptionInfoRequest=false;e.body.supportTerminateDebuggee=false;e.body.supportsDelayedStackTraceLoading=false;e.body.supportsLoadedSourcesRequest=false;e.body.supportsLogPoints=false;e.body.supportsTerminateThreadsRequest=false;e.body.supportsSetExpression=false;e.body.supportsTerminateRequest=false;e.body.supportsDataBreakpoints=false;e.body.supportsReadMemoryRequest=false;e.body.supportsDisassembleRequest=false;e.body.supportsCancelRequest=false;e.body.supportsBreakpointLocationsRequest=false;this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e);this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,s){this.sendErrorResponse(t,1014,"unrecognized request",null,a.Telemetry)}convertClientLineToDebugger(e){if(this._debuggerLinesStartAt1){return this._clientLinesStartAt1?e:e+1}return this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){if(this._debuggerLinesStartAt1){return this._clientLinesStartAt1?e:e-1}return this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){if(this._debuggerColumnsStartAt1){return this._clientColumnsStartAt1?e:e+1}return this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){if(this._debuggerColumnsStartAt1){return this._clientColumnsStartAt1?e:e-1}return this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){if(this._clientPathsAreURIs!==this._debuggerPathsAreURIs){if(this._clientPathsAreURIs){return DebugSession.uri2path(e)}else{return DebugSession.path2uri(e)}}return e}convertDebuggerPathToClient(e){if(this._debuggerPathsAreURIs!==this._clientPathsAreURIs){if(this._debuggerPathsAreURIs){return DebugSession.uri2path(e)}else{return DebugSession.path2uri(e)}}return e}static path2uri(e){if(process.platform==="win32"){if(/^[A-Z]:/.test(e)){e=e[0].toLowerCase()+e.substr(1)}e=e.replace(/\\/g,"/")}e=encodeURI(e);let t=new o.URL(`file:`);t.pathname=e;return t.toString()}static uri2path(e){let t=new o.URL(e);let n=decodeURIComponent(t.pathname);if(process.platform==="win32"){if(/^\/[a-zA-Z]:/.test(n)){n=n[1].toLowerCase()+n.substr(2)}n=n.replace(/\//g,"\\")}return n}static formatPII(e,t,n){return e.replace(DebugSession._formatPIIRegexp,function(e,s){if(t&&s.length>0&&s[0]!=="_"){return e}return n[s]&&n.hasOwnProperty(s)?n[s]:e})}}DebugSession._formatPIIRegexp=/{([^}]+)}/g;t.DebugSession=DebugSession}});